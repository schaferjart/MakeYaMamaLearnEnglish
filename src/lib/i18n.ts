export const translations = {
  de: {
    // Navigation & General
    "app.title": "Make Ya Mama Learn English",
    "app.subtitle": "NatÃ¼rlich mit Akzent",
    "library": "Bibliothek",
    "reading": "Lesen",
    "vocabulary": "Vokabular",
    "progress": "Fortschritt",
    "settings": "Einstellungen",
     
    // Library
    "library.title": "Meine BÃ¼cher",
    "library.noBooks": "Noch keine BÃ¼cher vorhanden",
    "library.addBooks": "BÃ¼cher hinzufÃ¼gen",
    "library.progress": "Fortschritt: {{percent}}%",
    "library.wordsLearned": "{{count}} WÃ¶rter gelernt",
    "library.continue": "Weiterlesen",
    "library.start": "Beginnen",
    
    // Reading Session  
    "session.timer": "Lesezeit",
    "session.minutes": "Minuten",
    "session.start": "Session beginnen",
    "session.pause": "Pausieren",
    "session.resume": "Fortsetzen",
    "session.timeRemaining": "Verbleibende Zeit: {{time}}",
    "session.timeUp": "Zeit ist um!",
    
    // Vocabulary
    "vocab.lookup": "Nachschlagen",
    "vocab.definition": "Definition",
    "vocab.synonyms": "Synonyme", 
    "vocab.translation": "Ãœbersetzung",
    "vocab.save": "Speichern",
    "vocab.saved": "Gespeichert!",
    "vocab.example": "Beispiel",
    "vocab.learned": "Gelernte WÃ¶rter",
    "vocab.difficulty": "Schwierigkeit",
    
    // Reading Controls
    "reader.play": "Abspielen",
    "reader.pause": "Pausieren", 
    "reader.stop": "Stoppen",
    "reader.speed": "Geschwindigkeit",
    "reader.fontSize": "SchriftgrÃ¶ÃŸe",
    "reader.theme": "Design",
    
    // Tutor/Conversation
    "tutor.start": "GesprÃ¤ch beginnen",
    "tutor.thinking": "Denkt nach...",
    "tutor.typeResponse": "Ihre Antwort eingeben...",
    "tutor.send": "Senden",
    
    // Authentication
    "auth.title": "Anmeldung",
    "auth.welcome": "Viele Mamas haben ihr lebenslang im Haushalt geaerbeitet und deswegen nie Englisch gebraucht und gelernt. Diese Mamas sind nun gefickt wenn sie in die Feerien gehen weil sie nichts verstehen.",
    "auth.description": "Die ersste App Ã¼berhaupt fÃ¼r Mamas die endlich in die Ferien gehen wollen!",
    "auth.email": "E-Mail",
    "auth.password": "Passwort",
    "auth.confirmPassword": "Passwort bestÃ¤tigen",
    "auth.signIn": "Anmelden",
    "auth.signUp": "Registrieren",
    "auth.signOut": "Abmelden",
    
    // Common Actions
    "close": "SchlieÃŸen",
    "save": "Speichern", 
    "cancel": "Abbrechen",
    "next": "Weiter",
    "previous": "ZurÃ¼ck",
    "loading": "LÃ¤dt..."
  },
  
  en: {
    // Navigation & General
    "app.title": "Make Ya Mama Learn English",
    "app.subtitle": "Speak Immigrant English in No Time", 
    "library": "Library",
    "reading": "Reading",
    "vocabulary": "Vocabulary",
    "progress": "Progress",
    "settings": "Settings",
    
    // Library
    "library.title": "My Books",
    "library.noBooks": "No books yet",
    "library.addBooks": "Add Books",
    "library.progress": "Progress: {{percent}}%", 
    "library.wordsLearned": "{{count}} words learned",
    "library.continue": "Continue Reading",
    "library.start": "Start Reading",
    
    // Reading Session
    "session.timer": "Reading Time",
    "session.minutes": "Minutes",
    "session.start": "Start Session", 
    "session.pause": "Pause",
    "session.resume": "Resume",
    "session.timeRemaining": "Time remaining: {{time}}",
    "session.timeUp": "Time's up!",
    
    // Vocabulary
    "vocab.lookup": "Look up",
    "vocab.definition": "Definition", 
    "vocab.synonyms": "Synonyms",
    "vocab.translation": "Translation",
    "vocab.save": "Save",
    "vocab.saved": "Saved!",
    "vocab.example": "Example",
    "vocab.learned": "Learned Words",
    "vocab.difficulty": "Difficulty",
    
    // Reading Controls
    "reader.play": "Play",
    "reader.pause": "Pause",
    "reader.stop": "Stop", 
    "reader.speed": "Speed",
    "reader.fontSize": "Font Size",
    "reader.theme": "Theme",
    
    // Tutor/Conversation
    "tutor.start": "Start Conversation",
    "tutor.thinking": "Thinking...",
    "tutor.typeResponse": "Type your response...",
    "tutor.send": "Send",
    
    // Authentication
    "auth.title": "Sign In",
    "auth.welcome": "Welcome to MamaLearnEnglish",
    "auth.description": "Improve your English through reading, listening and speaking",
    "auth.email": "Email",
    "auth.password": "Password", 
    "auth.confirmPassword": "Confirm Password",
    "auth.signIn": "Sign In",
    "auth.signUp": "Sign Up",
    "auth.signOut": "Sign Out",
    
    // Common Actions
    "close": "Close",
    "save": "Save",
    "cancel": "Cancel", 
    "next": "Next",
    "previous": "Previous", 
    "loading": "Loading..."
  },
  
  fr: {
    // Navigation & General
    "app.title": "Make Ya Mama Learn English",
    "app.subtitle": "Parlez anglais en un rien de temps",
    "library": "BibliothÃ¨que",
    "reading": "Lecture",
    "vocabulary": "Vocabulaire",
    "progress": "ProgrÃ¨s",
    "settings": "ParamÃ¨tres",
    
    // Library
    "library.title": "Mes Livres",
    "library.noBooks": "Aucun livre pour le moment",
    "library.addBooks": "Ajouter des Livres",
    "library.progress": "ProgrÃ¨s : {{percent}}%",
    "library.wordsLearned": "{{count}} mots appris",
    "library.continue": "Continuer la Lecture",
    "library.start": "Commencer la Lecture",
    
    // Reading Session
    "session.timer": "Temps de Lecture",
    "session.minutes": "Minutes",
    "session.start": "Commencer la Session",
    "session.pause": "Pause",
    "session.resume": "Reprendre",
    "session.timeRemaining": "Temps restant : {{time}}",
    "session.timeUp": "Temps Ã©coulÃ© !",
    
    // Vocabulary
    "vocab.lookup": "Chercher",
    "vocab.definition": "DÃ©finition",
    "vocab.synonyms": "Synonymes",
    "vocab.translation": "Traduction",
    "vocab.save": "Sauvegarder",
    "vocab.saved": "SauvegardÃ© !",
    "vocab.example": "Exemple",
    "vocab.learned": "Mots Appris",
    "vocab.difficulty": "DifficultÃ©",
    
    // Reading Controls
    "reader.play": "Jouer",
    "reader.pause": "Pause",
    "reader.stop": "ArrÃªter",
    "reader.speed": "Vitesse",
    "reader.fontSize": "Taille de Police",
    "reader.theme": "ThÃ¨me",
    
    // Tutor/Conversation
    "tutor.start": "Commencer la Conversation",
    "tutor.thinking": "RÃ©flÃ©chit...",
    "tutor.typeResponse": "Tapez votre rÃ©ponse...",
    "tutor.send": "Envoyer",
    
    // Authentication
    "auth.title": "Se Connecter",
    "auth.welcome": "Beaucoup de mamans ont travaillÃ© toute leur vie dans les soins et n'ont jamais eu besoin d'apprendre l'anglais. Ces mamans sont maintenant dans l'embarras quand elles partent en vacances car elles ne comprennent rien.",
    "auth.description": "La premiÃ¨re application jamais crÃ©Ã©e pour les mamans qui veulent enfin partir en vacances !",
    "auth.email": "E-mail",
    "auth.password": "Mot de Passe",
    "auth.confirmPassword": "Confirmer le Mot de Passe",
    "auth.signIn": "Se Connecter",
    "auth.signUp": "S'Inscrire",
    "auth.signOut": "Se DÃ©connecter",
    
    // Common Actions
    "close": "Fermer",
    "save": "Sauvegarder",
    "cancel": "Annuler",
    "next": "Suivant",
    "previous": "PrÃ©cÃ©dent",
    "loading": "Chargement..."
  }
};

export type TranslationKey = keyof typeof translations.de;
export type Locale = keyof typeof translations;

// Initialize locale from localStorage or default to German
const getInitialLocale = (): Locale => {
  if (typeof window !== 'undefined') {
    const savedLocale = localStorage.getItem('mamaLearnsEnglish_locale') as Locale;
    if (savedLocale && translations[savedLocale]) {
      return savedLocale;
    }
  }
  return 'de';
};

let currentLocale: Locale = getInitialLocale();

export const setLocale = (locale: Locale) => {
  currentLocale = locale;
  if (typeof window !== 'undefined') {
    localStorage.setItem('mamaLearnsEnglish_locale', locale);
  }
};

export const getLocale = () => currentLocale;

export const getAvailableLocales = (): { code: Locale; name: string; flag: string }[] => [
  { code: 'de', name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'fr', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' }
];

export const t = (key: TranslationKey, params?: Record<string, string | number>): string => {
  let text = translations[currentLocale][key] || translations.de[key] || key;
  
  if (params) {
    Object.entries(params).forEach(([param, value]) => {
      text = text.replace(`{{${param}}}`, String(value));
    });
  }
  
  return text;
};